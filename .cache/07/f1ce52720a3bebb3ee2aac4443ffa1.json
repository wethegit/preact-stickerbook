{"id":"lTk1","dependencies":[{"name":"/home/liamegan/projects/wtc/preact-stickerbook/package.json","includedInParent":true,"mtime":1679503664025},{"name":"wtc-math","loc":{"line":1,"column":21,"index":21},"parent":"/home/liamegan/projects/wtc/preact-stickerbook/src/helpers.js","resolved":"/home/liamegan/projects/wtc/preact-stickerbook/node_modules/wtc-math/dist/index.module.js"},{"name":"./renderSticker","loc":{"line":2,"column":30,"index":63},"parent":"/home/liamegan/projects/wtc/preact-stickerbook/src/helpers.js","resolved":"/home/liamegan/projects/wtc/preact-stickerbook/src/renderSticker.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.addSticker=s,exports.classnames=t,exports.coverCanvas=i,exports.deleteSticker=d,exports.exportStickerbook=n,exports.loadUrlAsImage=o,exports.patchSticker=c,exports.reorderSticker=a;var e=require(\"wtc-math\"),r=require(\"./renderSticker\");function t(e){return e.filter(e=>\"\"!=e).join(\" \").trim()}function o(e){return new Promise(function(r,t){const o=new Image;o.crossOrigin=\"anonymous\",o.onload=(()=>r(o)),o.onerror=(e=>t(e)),o.src=e})}async function i(e){let{ctx:r,img:t,width:i,height:n,offsetX:a=.5,offsetY:s=.5}=e;if(!r||!r instanceof CanvasRenderingContext2D)throw Error(\"`ctx` is required and must be a valid canvas context\");if(!t)throw Error(\"`img` is required\");const d=\"string\"==typeof t?await o(t):t,c=d.width||d.naturalWidth||d.offsetWidth,h=d.height||d.naturalHeight||d.offsetHeight,u=c/h,f=i/n;let g=i,l=n;u>f?g=l*u:u<f&&(l=g*(h/c));const m=document.createElement(\"canvas\"),p=m.getContext(\"2d\");m.width=g,m.height=l,p.drawImage(d,0,0,g,l),r.drawImage(m,(g-i)*a,(l-n)*s,i,n,0,0,i,n)}async function n(e){let{canvas:t,background:n,frame:a,stickers:s=[],foreground:d,outputWidth:c=500,outputHeight:h=500,format:u=\"image\"}=e;const f=[\"image\",\"canvas\",\"blob\"];if(!c&&!h)throw Error(\"'outputWidth' and 'outputHeight' needs to be bigger than 0\");if(!f.includes(u))throw Error(`Invalid 'format'. 'format' must be one of: ${f.join(\",\")}`);const g=t||document.createElement(\"canvas\"),l=g.getContext(\"2d\");if(g.width=c,g.height=h,n&&n.image&&await i({ctx:l,img:n.image,width:c,height:h}),a&&a.image&&await i({ctx:l,img:a.image,width:c,height:h}),s&&s.length>0){const e=[...s].sort((e,r)=>e.order-r.order),t=await Promise.all(e.map(e=>{let{image:r}=e;return o(r)}));console.log(\"------------\"),window.loadedStickers=t;for(let o=0;o<t.length;o++){const t=e[o],i=(0,r.renderSticker)(t,[c,h]);l.drawImage(i,0,0)}}return d&&d.image&&await i({ctx:l,img:d.image,width:c,height:h}),\"canvas\"===u?g:await new Promise((e,r)=>{try{g.toBlob(r=>{e(\"blob\"===u?r:window.URL.createObjectURL(r))})}catch(t){r(t)}})}function a(e){let{index:r,direction:t=\"up\",extreme:o=!1,stickers:i=[]}=e;if(!i||i.length<=0)throw Error(\"`stickers` array is empty\");if(!t||![\"up\",\"down\"].includes(t))throw Error(\"`direction` needs to be either `up` or `down`\");if(\"number\"!=typeof r||r<0||r>=i.length)throw Error(\"`index` needs to be a valid `stickers` array index\");const n=i.length-1,{order:a}=i.find((e,t)=>t===r),s=\"up\"===t?o?n:Math.min(n,a+1):o?0:Math.max(0,a-1);return s===a?i:i.map((e,i)=>(i===r?e.order=s:\"up\"===t?(o&&e.order>=a||!o&&e.order===s)&&(e.order-=1):(o&&e.order<=a||!o&&e.order===s)&&(e.order+=1),e))}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;if(!r)throw Error(\"No `sticker` provided\");return e.concat([{...r,order:e.length,key:Date.now()}])}function d(e,r){if(!e||!e instanceof Array||e.length<=0)throw Error(\"`stickers` array is empty\");if(\"number\"!=typeof r||!e[r])throw Error(\"`index` needs to be a valid `stickers` array index\");const t=e[r].order;return e.filter((e,t)=>t!==r).map(e=>(e.order>t&&(e.order-=1),e))}function c(e){let{stickers:r,prop:t,value:o,index:i}=e;if(!r||!r instanceof Array||r.length<=0)throw Error(\"`stickers` array is empty\");if(\"number\"!=typeof i||!r[i])throw Error(\"`index` needs to be a valid `stickers` array index\");const n=[\"position\",\"scale\",\"rotation\"];if(!n.includes(t))throw Error(`Invalid 'prop'. 'prop' must be one of: ${n.join(\",\")}`);return r.map((e,r)=>(r===i&&(e[t]=o),e))}"},"sourceMaps":{"js":{"mappings":[{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":0}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":13}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":20}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":35}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":43}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":56}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":57}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":64}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":68}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":76}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":87}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":89}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":97}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":108}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":110}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":118}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":130}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":132}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":140}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":154}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":156}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":164}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":182}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":184}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":192}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":207}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":209}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":217}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":230}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":232}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":240}},{"source":"helpers.js","original":{"line":274,"column":0},"generated":{"line":1,"column":255}},{"source":"helpers.js","original":{"line":1,"column":0},"generated":{"line":1,"column":257}},{"source":"helpers.js","name":"_wtcMath","original":{"line":1,"column":0},"generated":{"line":1,"column":261}},{"source":"helpers.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":263}},{"source":"helpers.js","original":{"line":1,"column":0},"generated":{"line":1,"column":271}},{"source":"helpers.js","name":"_renderSticker","original":{"line":2,"column":0},"generated":{"line":1,"column":283}},{"source":"helpers.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":285}},{"source":"helpers.js","original":{"line":2,"column":0},"generated":{"line":1,"column":293}},{"source":"helpers.js","original":{"line":4,"column":7},"generated":{"line":1,"column":312}},{"source":"helpers.js","name":"classnames","original":{"line":4,"column":16},"generated":{"line":1,"column":321}},{"source":"helpers.js","name":"namesArray","original":{"line":4,"column":27},"generated":{"line":1,"column":323}},{"source":"helpers.js","original":{"line":5,"column":2},"generated":{"line":1,"column":326}},{"source":"helpers.js","name":"namesArray","original":{"line":5,"column":9},"generated":{"line":1,"column":333}},{"source":"helpers.js","name":"filter","original":{"line":6,"column":5},"generated":{"line":1,"column":335}},{"source":"helpers.js","name":"v","original":{"line":6,"column":13},"generated":{"line":1,"column":342}},{"source":"helpers.js","original":{"line":6,"column":24},"generated":{"line":1,"column":345}},{"source":"helpers.js","name":"v","original":{"line":6,"column":19},"generated":{"line":1,"column":349}},{"source":"helpers.js","name":"join","original":{"line":7,"column":5},"generated":{"line":1,"column":352}},{"source":"helpers.js","original":{"line":7,"column":10},"generated":{"line":1,"column":357}},{"source":"helpers.js","name":"trim","original":{"line":8,"column":5},"generated":{"line":1,"column":362}},{"source":"helpers.js","original":{"line":12,"column":7},"generated":{"line":1,"column":369}},{"source":"helpers.js","name":"loadUrlAsImage","original":{"line":12,"column":16},"generated":{"line":1,"column":378}},{"source":"helpers.js","name":"item","original":{"line":12,"column":31},"generated":{"line":1,"column":380}},{"source":"helpers.js","original":{"line":13,"column":2},"generated":{"line":1,"column":383}},{"source":"helpers.js","original":{"line":13,"column":9},"generated":{"line":1,"column":390}},{"source":"helpers.js","name":"Promise","original":{"line":13,"column":13},"generated":{"line":1,"column":394}},{"source":"helpers.js","original":{"line":13,"column":21},"generated":{"line":1,"column":402}},{"source":"helpers.js","name":"resolve","original":{"line":13,"column":31},"generated":{"line":1,"column":411}},{"source":"helpers.js","name":"reject","original":{"line":13,"column":40},"generated":{"line":1,"column":413}},{"source":"helpers.js","original":{"line":14,"column":4},"generated":{"line":1,"column":416}},{"source":"helpers.js","name":"img","original":{"line":14,"column":10},"generated":{"line":1,"column":422}},{"source":"helpers.js","original":{"line":14,"column":16},"generated":{"line":1,"column":424}},{"source":"helpers.js","name":"Image","original":{"line":14,"column":20},"generated":{"line":1,"column":428}},{"source":"helpers.js","name":"img","original":{"line":15,"column":4},"generated":{"line":1,"column":434}},{"source":"helpers.js","name":"crossOrigin","original":{"line":15,"column":8},"generated":{"line":1,"column":436}},{"source":"helpers.js","original":{"line":15,"column":22},"generated":{"line":1,"column":448}},{"source":"helpers.js","name":"img","original":{"line":16,"column":4},"generated":{"line":1,"column":460}},{"source":"helpers.js","name":"onload","original":{"line":16,"column":8},"generated":{"line":1,"column":462}},{"source":"helpers.js","original":{"line":16,"column":17},"generated":{"line":1,"column":469}},{"source":"helpers.js","name":"resolve","original":{"line":16,"column":23},"generated":{"line":1,"column":474}},{"source":"helpers.js","name":"img","original":{"line":16,"column":31},"generated":{"line":1,"column":476}},{"source":"helpers.js","name":"img","original":{"line":17,"column":4},"generated":{"line":1,"column":480}},{"source":"helpers.js","name":"onerror","original":{"line":17,"column":8},"generated":{"line":1,"column":482}},{"source":"helpers.js","name":"err","original":{"line":17,"column":19},"generated":{"line":1,"column":490}},{"source":"helpers.js","name":"err","original":{"line":17,"column":19},"generated":{"line":1,"column":491}},{"source":"helpers.js","name":"reject","original":{"line":17,"column":27},"generated":{"line":1,"column":494}},{"source":"helpers.js","name":"err","original":{"line":17,"column":34},"generated":{"line":1,"column":496}},{"source":"helpers.js","name":"img","original":{"line":18,"column":4},"generated":{"line":1,"column":500}},{"source":"helpers.js","name":"src","original":{"line":18,"column":8},"generated":{"line":1,"column":502}},{"source":"helpers.js","name":"item","original":{"line":18,"column":14},"generated":{"line":1,"column":506}},{"source":"helpers.js","original":{"line":22,"column":7},"generated":{"line":1,"column":510}},{"source":"helpers.js","name":"coverCanvas","original":{"line":22,"column":22},"generated":{"line":1,"column":525}},{"source":"helpers.js","name":"_ref","original":{"line":22,"column":33},"generated":{"line":1,"column":527}},{"source":"helpers.js","original":{"line":29,"column":3},"generated":{"line":1,"column":530}},{"source":"helpers.js","original":{"line":22,"column":34},"generated":{"line":1,"column":534}},{"source":"helpers.js","name":"ctx","original":{"line":23,"column":2},"generated":{"line":1,"column":538}},{"source":"helpers.js","original":{"line":23,"column":5},"generated":{"line":1,"column":540}},{"source":"helpers.js","name":"img","original":{"line":24,"column":2},"generated":{"line":1,"column":544}},{"source":"helpers.js","original":{"line":24,"column":5},"generated":{"line":1,"column":546}},{"source":"helpers.js","name":"width","original":{"line":25,"column":2},"generated":{"line":1,"column":552}},{"source":"helpers.js","original":{"line":25,"column":7},"generated":{"line":1,"column":554}},{"source":"helpers.js","name":"height","original":{"line":26,"column":2},"generated":{"line":1,"column":561}},{"source":"helpers.js","original":{"line":26,"column":8},"generated":{"line":1,"column":563}},{"source":"helpers.js","name":"offsetX","original":{"line":27,"column":2},"generated":{"line":1,"column":571}},{"source":"helpers.js","original":{"line":27,"column":12},"generated":{"line":1,"column":573}},{"source":"helpers.js","original":{"line":27,"column":15},"generated":{"line":1,"column":576}},{"source":"helpers.js","name":"offsetY","original":{"line":28,"column":2},"generated":{"line":1,"column":584}},{"source":"helpers.js","original":{"line":28,"column":12},"generated":{"line":1,"column":586}},{"source":"helpers.js","name":"_ref","original":{"line":29,"column":1},"generated":{"line":1,"column":590}},{"source":"helpers.js","original":{"line":30,"column":2},"generated":{"line":1,"column":592}},{"source":"helpers.js","name":"ctx","original":{"line":30,"column":7},"generated":{"line":1,"column":596}},{"source":"helpers.js","name":"ctx","original":{"line":30,"column":15},"generated":{"line":1,"column":600}},{"source":"helpers.js","name":"CanvasRenderingContext2D","original":{"line":30,"column":30},"generated":{"line":1,"column":613}},{"source":"helpers.js","original":{"line":31,"column":4},"generated":{"line":1,"column":638}},{"source":"helpers.js","name":"Error","original":{"line":31,"column":10},"generated":{"line":1,"column":644}},{"source":"helpers.js","original":{"line":31,"column":16},"generated":{"line":1,"column":650}},{"source":"helpers.js","original":{"line":32,"column":2},"generated":{"line":1,"column":706}},{"source":"helpers.js","name":"img","original":{"line":32,"column":7},"generated":{"line":1,"column":710}},{"source":"helpers.js","original":{"line":32,"column":12},"generated":{"line":1,"column":712}},{"source":"helpers.js","name":"Error","original":{"line":32,"column":18},"generated":{"line":1,"column":718}},{"source":"helpers.js","original":{"line":32,"column":24},"generated":{"line":1,"column":724}},{"source":"helpers.js","original":{"line":34,"column":2},"generated":{"line":1,"column":745}},{"source":"helpers.js","name":"loadedImage","original":{"line":34,"column":8},"generated":{"line":1,"column":751}},{"source":"helpers.js","original":{"line":34,"column":37},"generated":{"line":1,"column":753}},{"source":"helpers.js","name":"img","original":{"line":34,"column":29},"generated":{"line":1,"column":770}},{"source":"helpers.js","name":"loadUrlAsImage","original":{"line":34,"column":54},"generated":{"line":1,"column":778}},{"source":"helpers.js","name":"img","original":{"line":34,"column":69},"generated":{"line":1,"column":780}},{"source":"helpers.js","name":"img","original":{"line":34,"column":76},"generated":{"line":1,"column":783}},{"source":"helpers.js","name":"imageWidth","original":{"line":36,"column":8},"generated":{"line":1,"column":785}},{"source":"helpers.js","name":"loadedImage","original":{"line":37,"column":4},"generated":{"line":1,"column":787}},{"source":"helpers.js","name":"width","original":{"line":37,"column":16},"generated":{"line":1,"column":789}},{"source":"helpers.js","name":"loadedImage","original":{"line":37,"column":25},"generated":{"line":1,"column":796}},{"source":"helpers.js","name":"naturalWidth","original":{"line":37,"column":37},"generated":{"line":1,"column":798}},{"source":"helpers.js","name":"loadedImage","original":{"line":37,"column":53},"generated":{"line":1,"column":812}},{"source":"helpers.js","name":"offsetWidth","original":{"line":37,"column":65},"generated":{"line":1,"column":814}},{"source":"helpers.js","name":"imageHeight","original":{"line":38,"column":8},"generated":{"line":1,"column":826}},{"source":"helpers.js","name":"loadedImage","original":{"line":39,"column":4},"generated":{"line":1,"column":828}},{"source":"helpers.js","name":"height","original":{"line":39,"column":16},"generated":{"line":1,"column":830}},{"source":"helpers.js","name":"loadedImage","original":{"line":39,"column":26},"generated":{"line":1,"column":838}},{"source":"helpers.js","name":"naturalHeight","original":{"line":39,"column":38},"generated":{"line":1,"column":840}},{"source":"helpers.js","name":"loadedImage","original":{"line":39,"column":55},"generated":{"line":1,"column":855}},{"source":"helpers.js","name":"offsetHeight","original":{"line":39,"column":67},"generated":{"line":1,"column":857}},{"source":"helpers.js","name":"imageRatio","original":{"line":41,"column":8},"generated":{"line":1,"column":870}},{"source":"helpers.js","name":"imageWidth","original":{"line":41,"column":21},"generated":{"line":1,"column":872}},{"source":"helpers.js","name":"imageHeight","original":{"line":41,"column":34},"generated":{"line":1,"column":874}},{"source":"helpers.js","name":"outputRatio","original":{"line":42,"column":8},"generated":{"line":1,"column":876}},{"source":"helpers.js","name":"width","original":{"line":42,"column":22},"generated":{"line":1,"column":878}},{"source":"helpers.js","name":"height","original":{"line":42,"column":30},"generated":{"line":1,"column":880}},{"source":"helpers.js","original":{"line":44,"column":2},"generated":{"line":1,"column":882}},{"source":"helpers.js","name":"outputWidth","original":{"line":44,"column":6},"generated":{"line":1,"column":886}},{"source":"helpers.js","name":"width","original":{"line":44,"column":20},"generated":{"line":1,"column":888}},{"source":"helpers.js","name":"outputHeight","original":{"line":45,"column":6},"generated":{"line":1,"column":890}},{"source":"helpers.js","name":"height","original":{"line":45,"column":21},"generated":{"line":1,"column":892}},{"source":"helpers.js","name":"imageRatio","original":{"line":47,"column":6},"generated":{"line":1,"column":894}},{"source":"helpers.js","name":"outputRatio","original":{"line":47,"column":19},"generated":{"line":1,"column":896}},{"source":"helpers.js","name":"outputWidth","original":{"line":47,"column":32},"generated":{"line":1,"column":898}},{"source":"helpers.js","name":"outputHeight","original":{"line":47,"column":46},"generated":{"line":1,"column":900}},{"source":"helpers.js","name":"imageRatio","original":{"line":47,"column":61},"generated":{"line":1,"column":902}},{"source":"helpers.js","name":"imageRatio","original":{"line":48,"column":11},"generated":{"line":1,"column":904}},{"source":"helpers.js","name":"outputRatio","original":{"line":48,"column":24},"generated":{"line":1,"column":906}},{"source":"helpers.js","name":"outputHeight","original":{"line":49,"column":4},"generated":{"line":1,"column":910}},{"source":"helpers.js","name":"outputWidth","original":{"line":49,"column":19},"generated":{"line":1,"column":912}},{"source":"helpers.js","name":"imageHeight","original":{"line":49,"column":34},"generated":{"line":1,"column":915}},{"source":"helpers.js","name":"imageWidth","original":{"line":49,"column":48},"generated":{"line":1,"column":917}},{"source":"helpers.js","original":{"line":53,"column":2},"generated":{"line":1,"column":921}},{"source":"helpers.js","name":"resizedCanvas","original":{"line":53,"column":8},"generated":{"line":1,"column":927}},{"source":"helpers.js","name":"document","original":{"line":53,"column":24},"generated":{"line":1,"column":929}},{"source":"helpers.js","name":"createElement","original":{"line":53,"column":33},"generated":{"line":1,"column":938}},{"source":"helpers.js","original":{"line":53,"column":47},"generated":{"line":1,"column":952}},{"source":"helpers.js","name":"resizedCanvasCtx","original":{"line":54,"column":8},"generated":{"line":1,"column":962}},{"source":"helpers.js","name":"resizedCanvas","original":{"line":54,"column":27},"generated":{"line":1,"column":964}},{"source":"helpers.js","name":"getContext","original":{"line":54,"column":41},"generated":{"line":1,"column":966}},{"source":"helpers.js","original":{"line":54,"column":52},"generated":{"line":1,"column":977}},{"source":"helpers.js","name":"resizedCanvas","original":{"line":56,"column":2},"generated":{"line":1,"column":983}},{"source":"helpers.js","name":"width","original":{"line":56,"column":16},"generated":{"line":1,"column":985}},{"source":"helpers.js","name":"outputWidth","original":{"line":56,"column":24},"generated":{"line":1,"column":991}},{"source":"helpers.js","name":"resizedCanvas","original":{"line":57,"column":2},"generated":{"line":1,"column":993}},{"source":"helpers.js","name":"height","original":{"line":57,"column":16},"generated":{"line":1,"column":995}},{"source":"helpers.js","name":"outputHeight","original":{"line":57,"column":25},"generated":{"line":1,"column":1002}},{"source":"helpers.js","name":"resizedCanvasCtx","original":{"line":58,"column":2},"generated":{"line":1,"column":1004}},{"source":"helpers.js","name":"drawImage","original":{"line":58,"column":19},"generated":{"line":1,"column":1006}},{"source":"helpers.js","name":"loadedImage","original":{"line":58,"column":29},"generated":{"line":1,"column":1016}},{"source":"helpers.js","original":{"line":58,"column":42},"generated":{"line":1,"column":1018}},{"source":"helpers.js","original":{"line":58,"column":45},"generated":{"line":1,"column":1020}},{"source":"helpers.js","name":"outputWidth","original":{"line":58,"column":48},"generated":{"line":1,"column":1022}},{"source":"helpers.js","name":"outputHeight","original":{"line":58,"column":61},"generated":{"line":1,"column":1024}},{"source":"helpers.js","name":"ctx","original":{"line":61,"column":2},"generated":{"line":1,"column":1027}},{"source":"helpers.js","name":"drawImage","original":{"line":61,"column":6},"generated":{"line":1,"column":1029}},{"source":"helpers.js","name":"resizedCanvas","original":{"line":62,"column":4},"generated":{"line":1,"column":1039}},{"source":"helpers.js","name":"outputWidth","original":{"line":63,"column":5},"generated":{"line":1,"column":1042}},{"source":"helpers.js","name":"width","original":{"line":63,"column":19},"generated":{"line":1,"column":1044}},{"source":"helpers.js","name":"offsetX","original":{"line":63,"column":28},"generated":{"line":1,"column":1047}},{"source":"helpers.js","name":"outputHeight","original":{"line":64,"column":5},"generated":{"line":1,"column":1050}},{"source":"helpers.js","name":"height","original":{"line":64,"column":20},"generated":{"line":1,"column":1052}},{"source":"helpers.js","name":"offsetY","original":{"line":64,"column":30},"generated":{"line":1,"column":1055}},{"source":"helpers.js","name":"width","original":{"line":65,"column":4},"generated":{"line":1,"column":1057}},{"source":"helpers.js","name":"height","original":{"line":66,"column":4},"generated":{"line":1,"column":1059}},{"source":"helpers.js","original":{"line":67,"column":4},"generated":{"line":1,"column":1061}},{"source":"helpers.js","original":{"line":68,"column":4},"generated":{"line":1,"column":1063}},{"source":"helpers.js","name":"width","original":{"line":69,"column":4},"generated":{"line":1,"column":1065}},{"source":"helpers.js","name":"height","original":{"line":70,"column":4},"generated":{"line":1,"column":1067}},{"source":"helpers.js","original":{"line":74,"column":7},"generated":{"line":1,"column":1070}},{"source":"helpers.js","name":"exportStickerbook","original":{"line":74,"column":22},"generated":{"line":1,"column":1085}},{"source":"helpers.js","name":"_ref2","original":{"line":74,"column":39},"generated":{"line":1,"column":1087}},{"source":"helpers.js","original":{"line":83,"column":3},"generated":{"line":1,"column":1090}},{"source":"helpers.js","original":{"line":74,"column":40},"generated":{"line":1,"column":1094}},{"source":"helpers.js","name":"canvas","original":{"line":75,"column":2},"generated":{"line":1,"column":1101}},{"source":"helpers.js","original":{"line":75,"column":8},"generated":{"line":1,"column":1103}},{"source":"helpers.js","name":"background","original":{"line":76,"column":2},"generated":{"line":1,"column":1114}},{"source":"helpers.js","original":{"line":76,"column":12},"generated":{"line":1,"column":1116}},{"source":"helpers.js","name":"frame","original":{"line":77,"column":2},"generated":{"line":1,"column":1122}},{"source":"helpers.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1124}},{"source":"helpers.js","name":"stickers","original":{"line":78,"column":2},"generated":{"line":1,"column":1133}},{"source":"helpers.js","original":{"line":78,"column":13},"generated":{"line":1,"column":1135}},{"source":"helpers.js","original":{"line":78,"column":15},"generated":{"line":1,"column":1138}},{"source":"helpers.js","name":"foreground","original":{"line":79,"column":2},"generated":{"line":1,"column":1149}},{"source":"helpers.js","original":{"line":79,"column":12},"generated":{"line":1,"column":1151}},{"source":"helpers.js","name":"outputWidth","original":{"line":80,"column":2},"generated":{"line":1,"column":1163}},{"source":"helpers.js","original":{"line":80,"column":16},"generated":{"line":1,"column":1165}},{"source":"helpers.js","original":{"line":80,"column":19},"generated":{"line":1,"column":1169}},{"source":"helpers.js","name":"outputHeight","original":{"line":81,"column":2},"generated":{"line":1,"column":1182}},{"source":"helpers.js","original":{"line":81,"column":17},"generated":{"line":1,"column":1184}},{"source":"helpers.js","original":{"line":81,"column":20},"generated":{"line":1,"column":1188}},{"source":"helpers.js","name":"format","original":{"line":82,"column":2},"generated":{"line":1,"column":1195}},{"source":"helpers.js","original":{"line":82,"column":11},"generated":{"line":1,"column":1197}},{"source":"helpers.js","name":"_ref2","original":{"line":83,"column":1},"generated":{"line":1,"column":1206}},{"source":"helpers.js","original":{"line":84,"column":2},"generated":{"line":1,"column":1208}},{"source":"helpers.js","name":"TYPES","original":{"line":84,"column":8},"generated":{"line":1,"column":1214}},{"source":"helpers.js","original":{"line":84,"column":16},"generated":{"line":1,"column":1216}},{"source":"helpers.js","original":{"line":84,"column":17},"generated":{"line":1,"column":1217}},{"source":"helpers.js","original":{"line":84,"column":26},"generated":{"line":1,"column":1225}},{"source":"helpers.js","original":{"line":84,"column":36},"generated":{"line":1,"column":1234}},{"source":"helpers.js","original":{"line":86,"column":2},"generated":{"line":1,"column":1242}},{"source":"helpers.js","name":"outputWidth","original":{"line":86,"column":7},"generated":{"line":1,"column":1246}},{"source":"helpers.js","name":"outputHeight","original":{"line":86,"column":23},"generated":{"line":1,"column":1250}},{"source":"helpers.js","original":{"line":87,"column":4},"generated":{"line":1,"column":1252}},{"source":"helpers.js","name":"Error","original":{"line":87,"column":10},"generated":{"line":1,"column":1258}},{"source":"helpers.js","original":{"line":87,"column":16},"generated":{"line":1,"column":1264}},{"source":"helpers.js","original":{"line":89,"column":2},"generated":{"line":1,"column":1326}},{"source":"helpers.js","name":"TYPES","original":{"line":89,"column":7},"generated":{"line":1,"column":1330}},{"source":"helpers.js","name":"includes","original":{"line":89,"column":13},"generated":{"line":1,"column":1332}},{"source":"helpers.js","name":"format","original":{"line":89,"column":22},"generated":{"line":1,"column":1341}},{"source":"helpers.js","original":{"line":90,"column":4},"generated":{"line":1,"column":1344}},{"source":"helpers.js","name":"Error","original":{"line":90,"column":10},"generated":{"line":1,"column":1350}},{"source":"helpers.js","name":"TYPES","original":{"line":91,"column":52},"generated":{"line":1,"column":1402}},{"source":"helpers.js","name":"join","original":{"line":91,"column":58},"generated":{"line":1,"column":1404}},{"source":"helpers.js","original":{"line":91,"column":63},"generated":{"line":1,"column":1409}},{"source":"helpers.js","original":{"line":95,"column":2},"generated":{"line":1,"column":1417}},{"source":"helpers.js","name":"outputCanvas","original":{"line":95,"column":8},"generated":{"line":1,"column":1423}},{"source":"helpers.js","name":"canvas","original":{"line":95,"column":23},"generated":{"line":1,"column":1425}},{"source":"helpers.js","name":"document","original":{"line":95,"column":33},"generated":{"line":1,"column":1428}},{"source":"helpers.js","name":"createElement","original":{"line":95,"column":42},"generated":{"line":1,"column":1437}},{"source":"helpers.js","original":{"line":95,"column":56},"generated":{"line":1,"column":1451}},{"source":"helpers.js","name":"outputCtx","original":{"line":96,"column":8},"generated":{"line":1,"column":1461}},{"source":"helpers.js","name":"outputCanvas","original":{"line":96,"column":20},"generated":{"line":1,"column":1463}},{"source":"helpers.js","name":"getContext","original":{"line":96,"column":33},"generated":{"line":1,"column":1465}},{"source":"helpers.js","original":{"line":96,"column":44},"generated":{"line":1,"column":1476}},{"source":"helpers.js","original":{"line":119,"column":2},"generated":{"line":1,"column":1482}},{"source":"helpers.js","name":"outputCanvas","original":{"line":98,"column":2},"generated":{"line":1,"column":1485}},{"source":"helpers.js","name":"width","original":{"line":98,"column":15},"generated":{"line":1,"column":1487}},{"source":"helpers.js","name":"outputWidth","original":{"line":98,"column":23},"generated":{"line":1,"column":1493}},{"source":"helpers.js","name":"outputCanvas","original":{"line":99,"column":2},"generated":{"line":1,"column":1495}},{"source":"helpers.js","name":"height","original":{"line":99,"column":15},"generated":{"line":1,"column":1497}},{"source":"helpers.js","name":"outputHeight","original":{"line":99,"column":24},"generated":{"line":1,"column":1504}},{"source":"helpers.js","name":"background","original":{"line":102,"column":6},"generated":{"line":1,"column":1506}},{"source":"helpers.js","name":"background","original":{"line":102,"column":20},"generated":{"line":1,"column":1509}},{"source":"helpers.js","name":"image","original":{"line":102,"column":31},"generated":{"line":1,"column":1511}},{"source":"helpers.js","name":"coverCanvas","original":{"line":103,"column":10},"generated":{"line":1,"column":1524}},{"source":"helpers.js","original":{"line":103,"column":22},"generated":{"line":1,"column":1526}},{"source":"helpers.js","name":"ctx","original":{"line":104,"column":6},"generated":{"line":1,"column":1527}},{"source":"helpers.js","name":"outputCtx","original":{"line":104,"column":11},"generated":{"line":1,"column":1531}},{"source":"helpers.js","name":"img","original":{"line":105,"column":6},"generated":{"line":1,"column":1533}},{"source":"helpers.js","name":"background","original":{"line":105,"column":11},"generated":{"line":1,"column":1537}},{"source":"helpers.js","name":"image","original":{"line":105,"column":22},"generated":{"line":1,"column":1539}},{"source":"helpers.js","name":"width","original":{"line":106,"column":6},"generated":{"line":1,"column":1545}},{"source":"helpers.js","name":"outputWidth","original":{"line":106,"column":13},"generated":{"line":1,"column":1551}},{"source":"helpers.js","name":"height","original":{"line":107,"column":6},"generated":{"line":1,"column":1553}},{"source":"helpers.js","name":"outputHeight","original":{"line":107,"column":14},"generated":{"line":1,"column":1560}},{"source":"helpers.js","name":"frame","original":{"line":111,"column":6},"generated":{"line":1,"column":1564}},{"source":"helpers.js","name":"frame","original":{"line":111,"column":15},"generated":{"line":1,"column":1567}},{"source":"helpers.js","name":"image","original":{"line":111,"column":21},"generated":{"line":1,"column":1569}},{"source":"helpers.js","name":"coverCanvas","original":{"line":112,"column":10},"generated":{"line":1,"column":1582}},{"source":"helpers.js","original":{"line":112,"column":22},"generated":{"line":1,"column":1584}},{"source":"helpers.js","name":"ctx","original":{"line":113,"column":6},"generated":{"line":1,"column":1585}},{"source":"helpers.js","name":"outputCtx","original":{"line":113,"column":11},"generated":{"line":1,"column":1589}},{"source":"helpers.js","name":"img","original":{"line":114,"column":6},"generated":{"line":1,"column":1591}},{"source":"helpers.js","name":"frame","original":{"line":114,"column":11},"generated":{"line":1,"column":1595}},{"source":"helpers.js","name":"image","original":{"line":114,"column":17},"generated":{"line":1,"column":1597}},{"source":"helpers.js","name":"width","original":{"line":115,"column":6},"generated":{"line":1,"column":1603}},{"source":"helpers.js","name":"outputWidth","original":{"line":115,"column":13},"generated":{"line":1,"column":1609}},{"source":"helpers.js","name":"height","original":{"line":116,"column":6},"generated":{"line":1,"column":1611}},{"source":"helpers.js","name":"outputHeight","original":{"line":116,"column":14},"generated":{"line":1,"column":1618}},{"source":"helpers.js","name":"stickers","original":{"line":119,"column":6},"generated":{"line":1,"column":1622}},{"source":"helpers.js","name":"stickers","original":{"line":119,"column":18},"generated":{"line":1,"column":1625}},{"source":"helpers.js","name":"length","original":{"line":119,"column":27},"generated":{"line":1,"column":1627}},{"source":"helpers.js","original":{"line":119,"column":36},"generated":{"line":1,"column":1634}},{"source":"helpers.js","original":{"line":119,"column":39},"generated":{"line":1,"column":1636}},{"source":"helpers.js","original":{"line":121,"column":4},"generated":{"line":1,"column":1637}},{"source":"helpers.js","name":"sortedStickers","original":{"line":121,"column":10},"generated":{"line":1,"column":1643}},{"source":"helpers.js","original":{"line":121,"column":27},"generated":{"line":1,"column":1645}},{"source":"helpers.js","name":"stickers","original":{"line":121,"column":31},"generated":{"line":1,"column":1649}},{"source":"helpers.js","name":"sort","original":{"line":121,"column":41},"generated":{"line":1,"column":1652}},{"source":"helpers.js","original":{"line":121,"column":46},"generated":{"line":1,"column":1657}},{"source":"helpers.js","name":"a","original":{"line":121,"column":47},"generated":{"line":1,"column":1658}},{"source":"helpers.js","name":"b","original":{"line":121,"column":50},"generated":{"line":1,"column":1660}},{"source":"helpers.js","name":"a","original":{"line":121,"column":56},"generated":{"line":1,"column":1664}},{"source":"helpers.js","name":"order","original":{"line":121,"column":58},"generated":{"line":1,"column":1666}},{"source":"helpers.js","name":"b","original":{"line":121,"column":66},"generated":{"line":1,"column":1672}},{"source":"helpers.js","name":"order","original":{"line":121,"column":68},"generated":{"line":1,"column":1674}},{"source":"helpers.js","name":"loadedStickers","original":{"line":124,"column":10},"generated":{"line":1,"column":1681}},{"source":"helpers.js","name":"Promise","original":{"line":124,"column":33},"generated":{"line":1,"column":1689}},{"source":"helpers.js","name":"all","original":{"line":124,"column":41},"generated":{"line":1,"column":1697}},{"source":"helpers.js","name":"sortedStickers","original":{"line":125,"column":6},"generated":{"line":1,"column":1701}},{"source":"helpers.js","name":"map","original":{"line":125,"column":21},"generated":{"line":1,"column":1703}},{"source":"helpers.js","name":"_ref3","original":{"line":125,"column":25},"generated":{"line":1,"column":1707}},{"source":"helpers.js","original":{"line":125,"column":25},"generated":{"line":1,"column":1711}},{"source":"helpers.js","original":{"line":125,"column":26},"generated":{"line":1,"column":1715}},{"source":"helpers.js","name":"image","original":{"line":125,"column":28},"generated":{"line":1,"column":1721}},{"source":"helpers.js","name":"_ref3","original":{"line":125,"column":35},"generated":{"line":1,"column":1724}},{"source":"helpers.js","original":{"line":125,"column":35},"generated":{"line":1,"column":1726}},{"source":"helpers.js","name":"loadUrlAsImage","original":{"line":125,"column":40},"generated":{"line":1,"column":1733}},{"source":"helpers.js","name":"image","original":{"line":125,"column":55},"generated":{"line":1,"column":1735}},{"source":"helpers.js","name":"console","original":{"line":128,"column":4},"generated":{"line":1,"column":1741}},{"source":"helpers.js","name":"log","original":{"line":128,"column":12},"generated":{"line":1,"column":1749}},{"source":"helpers.js","original":{"line":128,"column":16},"generated":{"line":1,"column":1753}},{"source":"helpers.js","name":"window","original":{"line":129,"column":4},"generated":{"line":1,"column":1769}},{"source":"helpers.js","name":"loadedStickers","original":{"line":129,"column":11},"generated":{"line":1,"column":1776}},{"source":"helpers.js","name":"loadedStickers","original":{"line":129,"column":28},"generated":{"line":1,"column":1791}},{"source":"helpers.js","original":{"line":131,"column":4},"generated":{"line":1,"column":1793}},{"source":"helpers.js","original":{"line":131,"column":9},"generated":{"line":1,"column":1797}},{"source":"helpers.js","name":"i","original":{"line":131,"column":13},"generated":{"line":1,"column":1801}},{"source":"helpers.js","original":{"line":131,"column":17},"generated":{"line":1,"column":1803}},{"source":"helpers.js","name":"i","original":{"line":131,"column":20},"generated":{"line":1,"column":1805}},{"source":"helpers.js","name":"loadedStickers","original":{"line":131,"column":24},"generated":{"line":1,"column":1807}},{"source":"helpers.js","name":"length","original":{"line":131,"column":39},"generated":{"line":1,"column":1809}},{"source":"helpers.js","name":"i","original":{"line":131,"column":47},"generated":{"line":1,"column":1816}},{"source":"helpers.js","original":{"line":131,"column":52},"generated":{"line":1,"column":1820}},{"source":"helpers.js","original":{"line":132,"column":6},"generated":{"line":1,"column":1821}},{"source":"helpers.js","name":"sticker","original":{"line":132,"column":12},"generated":{"line":1,"column":1827}},{"source":"helpers.js","name":"sortedStickers","original":{"line":132,"column":22},"generated":{"line":1,"column":1829}},{"source":"helpers.js","name":"i","original":{"line":132,"column":37},"generated":{"line":1,"column":1831}},{"source":"helpers.js","name":"stamp","original":{"line":135,"column":12},"generated":{"line":1,"column":1834}},{"source":"helpers.js","original":{"line":135,"column":20},"generated":{"line":1,"column":1837}},{"source":"helpers.js","name":"renderSticker","original":{"line":135,"column":20},"generated":{"line":1,"column":1839}},{"source":"helpers.js","original":{"line":135,"column":33},"generated":{"line":1,"column":1841}},{"source":"helpers.js","name":"sticker","original":{"line":135,"column":34},"generated":{"line":1,"column":1856}},{"source":"helpers.js","original":{"line":135,"column":43},"generated":{"line":1,"column":1858}},{"source":"helpers.js","name":"outputWidth","original":{"line":135,"column":44},"generated":{"line":1,"column":1859}},{"source":"helpers.js","name":"outputHeight","original":{"line":135,"column":57},"generated":{"line":1,"column":1861}},{"source":"helpers.js","name":"outputCtx","original":{"line":138,"column":6},"generated":{"line":1,"column":1865}},{"source":"helpers.js","name":"drawImage","original":{"line":138,"column":16},"generated":{"line":1,"column":1867}},{"source":"helpers.js","name":"stamp","original":{"line":138,"column":26},"generated":{"line":1,"column":1877}},{"source":"helpers.js","original":{"line":138,"column":33},"generated":{"line":1,"column":1879}},{"source":"helpers.js","original":{"line":138,"column":36},"generated":{"line":1,"column":1881}},{"source":"helpers.js","original":{"line":152,"column":2},"generated":{"line":1,"column":1885}},{"source":"helpers.js","name":"foreground","original":{"line":143,"column":6},"generated":{"line":1,"column":1892}},{"source":"helpers.js","name":"foreground","original":{"line":143,"column":20},"generated":{"line":1,"column":1895}},{"source":"helpers.js","name":"image","original":{"line":143,"column":31},"generated":{"line":1,"column":1897}},{"source":"helpers.js","name":"coverCanvas","original":{"line":144,"column":10},"generated":{"line":1,"column":1910}},{"source":"helpers.js","original":{"line":144,"column":22},"generated":{"line":1,"column":1912}},{"source":"helpers.js","name":"ctx","original":{"line":145,"column":6},"generated":{"line":1,"column":1913}},{"source":"helpers.js","name":"outputCtx","original":{"line":145,"column":11},"generated":{"line":1,"column":1917}},{"source":"helpers.js","name":"img","original":{"line":146,"column":6},"generated":{"line":1,"column":1919}},{"source":"helpers.js","name":"foreground","original":{"line":146,"column":11},"generated":{"line":1,"column":1923}},{"source":"helpers.js","name":"image","original":{"line":146,"column":22},"generated":{"line":1,"column":1925}},{"source":"helpers.js","name":"width","original":{"line":147,"column":6},"generated":{"line":1,"column":1931}},{"source":"helpers.js","name":"outputWidth","original":{"line":147,"column":13},"generated":{"line":1,"column":1937}},{"source":"helpers.js","name":"height","original":{"line":148,"column":6},"generated":{"line":1,"column":1939}},{"source":"helpers.js","name":"outputHeight","original":{"line":148,"column":14},"generated":{"line":1,"column":1946}},{"source":"helpers.js","original":{"line":152,"column":17},"generated":{"line":1,"column":1950}},{"source":"helpers.js","name":"format","original":{"line":152,"column":6},"generated":{"line":1,"column":1961}},{"source":"helpers.js","name":"outputCanvas","original":{"line":152,"column":34},"generated":{"line":1,"column":1963}},{"source":"helpers.js","original":{"line":154,"column":25},"generated":{"line":1,"column":1971}},{"source":"helpers.js","name":"Promise","original":{"line":154,"column":29},"generated":{"line":1,"column":1975}},{"source":"helpers.js","original":{"line":154,"column":37},"generated":{"line":1,"column":1983}},{"source":"helpers.js","name":"resolve","original":{"line":154,"column":38},"generated":{"line":1,"column":1984}},{"source":"helpers.js","name":"reject","original":{"line":154,"column":47},"generated":{"line":1,"column":1986}},{"source":"helpers.js","original":{"line":155,"column":4},"generated":{"line":1,"column":1991}},{"source":"helpers.js","name":"outputCanvas","original":{"line":156,"column":6},"generated":{"line":1,"column":1995}},{"source":"helpers.js","name":"toBlob","original":{"line":156,"column":19},"generated":{"line":1,"column":1997}},{"source":"helpers.js","name":"blob","original":{"line":156,"column":27},"generated":{"line":1,"column":2004}},{"source":"helpers.js","name":"resolve","original":{"line":157,"column":31},"generated":{"line":1,"column":2008}},{"source":"helpers.js","original":{"line":157,"column":23},"generated":{"line":1,"column":2010}},{"source":"helpers.js","name":"format","original":{"line":157,"column":12},"generated":{"line":1,"column":2019}},{"source":"helpers.js","name":"blob","original":{"line":157,"column":39},"generated":{"line":1,"column":2021}},{"source":"helpers.js","name":"window","original":{"line":158,"column":21},"generated":{"line":1,"column":2023}},{"source":"helpers.js","name":"URL","original":{"line":158,"column":28},"generated":{"line":1,"column":2030}},{"source":"helpers.js","name":"createObjectURL","original":{"line":158,"column":32},"generated":{"line":1,"column":2034}},{"source":"helpers.js","name":"blob","original":{"line":158,"column":48},"generated":{"line":1,"column":2050}},{"source":"helpers.js","original":{"line":160,"column":6},"generated":{"line":1,"column":2056}},{"source":"helpers.js","name":"err","original":{"line":160,"column":13},"generated":{"line":1,"column":2062}},{"source":"helpers.js","name":"reject","original":{"line":161,"column":6},"generated":{"line":1,"column":2065}},{"source":"helpers.js","name":"err","original":{"line":161,"column":13},"generated":{"line":1,"column":2067}},{"source":"helpers.js","original":{"line":168,"column":7},"generated":{"line":1,"column":2073}},{"source":"helpers.js","name":"reorderSticker","original":{"line":168,"column":16},"generated":{"line":1,"column":2082}},{"source":"helpers.js","name":"_ref4","original":{"line":168,"column":30},"generated":{"line":1,"column":2084}},{"source":"helpers.js","original":{"line":173,"column":3},"generated":{"line":1,"column":2087}},{"source":"helpers.js","original":{"line":168,"column":31},"generated":{"line":1,"column":2091}},{"source":"helpers.js","name":"index","original":{"line":169,"column":2},"generated":{"line":1,"column":2097}},{"source":"helpers.js","original":{"line":169,"column":7},"generated":{"line":1,"column":2099}},{"source":"helpers.js","name":"direction","original":{"line":170,"column":2},"generated":{"line":1,"column":2109}},{"source":"helpers.js","original":{"line":170,"column":14},"generated":{"line":1,"column":2111}},{"source":"helpers.js","original":{"line":170,"column":18},"generated":{"line":1,"column":2116}},{"source":"helpers.js","name":"extreme","original":{"line":171,"column":2},"generated":{"line":1,"column":2124}},{"source":"helpers.js","original":{"line":171,"column":12},"generated":{"line":1,"column":2127}},{"source":"helpers.js","original":{"line":171,"column":17},"generated":{"line":1,"column":2129}},{"source":"helpers.js","name":"stickers","original":{"line":172,"column":2},"generated":{"line":1,"column":2138}},{"source":"helpers.js","original":{"line":172,"column":13},"generated":{"line":1,"column":2140}},{"source":"helpers.js","name":"_ref4","original":{"line":173,"column":1},"generated":{"line":1,"column":2144}},{"source":"helpers.js","original":{"line":174,"column":2},"generated":{"line":1,"column":2146}},{"source":"helpers.js","name":"stickers","original":{"line":174,"column":7},"generated":{"line":1,"column":2150}},{"source":"helpers.js","name":"stickers","original":{"line":174,"column":19},"generated":{"line":1,"column":2153}},{"source":"helpers.js","name":"length","original":{"line":174,"column":28},"generated":{"line":1,"column":2155}},{"source":"helpers.js","original":{"line":174,"column":38},"generated":{"line":1,"column":2163}},{"source":"helpers.js","original":{"line":175,"column":4},"generated":{"line":1,"column":2165}},{"source":"helpers.js","name":"Error","original":{"line":175,"column":10},"generated":{"line":1,"column":2171}},{"source":"helpers.js","original":{"line":175,"column":16},"generated":{"line":1,"column":2177}},{"source":"helpers.js","original":{"line":176,"column":2},"generated":{"line":1,"column":2206}},{"source":"helpers.js","name":"direction","original":{"line":176,"column":7},"generated":{"line":1,"column":2210}},{"source":"helpers.js","original":{"line":176,"column":21},"generated":{"line":1,"column":2214}},{"source":"helpers.js","original":{"line":176,"column":22},"generated":{"line":1,"column":2215}},{"source":"helpers.js","original":{"line":176,"column":28},"generated":{"line":1,"column":2220}},{"source":"helpers.js","name":"includes","original":{"line":176,"column":36},"generated":{"line":1,"column":2228}},{"source":"helpers.js","name":"direction","original":{"line":176,"column":45},"generated":{"line":1,"column":2237}},{"source":"helpers.js","original":{"line":177,"column":4},"generated":{"line":1,"column":2240}},{"source":"helpers.js","name":"Error","original":{"line":177,"column":10},"generated":{"line":1,"column":2246}},{"source":"helpers.js","original":{"line":177,"column":16},"generated":{"line":1,"column":2252}},{"source":"helpers.js","original":{"line":178,"column":2},"generated":{"line":1,"column":2301}},{"source":"helpers.js","original":{"line":178,"column":23},"generated":{"line":1,"column":2304}},{"source":"helpers.js","name":"index","original":{"line":178,"column":13},"generated":{"line":1,"column":2321}},{"source":"helpers.js","name":"index","original":{"line":178,"column":35},"generated":{"line":1,"column":2324}},{"source":"helpers.js","original":{"line":178,"column":43},"generated":{"line":1,"column":2326}},{"source":"helpers.js","name":"index","original":{"line":178,"column":48},"generated":{"line":1,"column":2329}},{"source":"helpers.js","name":"stickers","original":{"line":178,"column":57},"generated":{"line":1,"column":2332}},{"source":"helpers.js","name":"length","original":{"line":178,"column":66},"generated":{"line":1,"column":2334}},{"source":"helpers.js","original":{"line":179,"column":4},"generated":{"line":1,"column":2341}},{"source":"helpers.js","name":"Error","original":{"line":179,"column":10},"generated":{"line":1,"column":2347}},{"source":"helpers.js","original":{"line":179,"column":16},"generated":{"line":1,"column":2353}},{"source":"helpers.js","original":{"line":185,"column":2},"generated":{"line":1,"column":2407}},{"source":"helpers.js","name":"max","original":{"line":185,"column":8},"generated":{"line":1,"column":2413}},{"source":"helpers.js","name":"stickers","original":{"line":185,"column":14},"generated":{"line":1,"column":2415}},{"source":"helpers.js","name":"length","original":{"line":185,"column":23},"generated":{"line":1,"column":2417}},{"source":"helpers.js","original":{"line":185,"column":32},"generated":{"line":1,"column":2424}},{"source":"helpers.js","name":"order","original":{"line":187,"column":10},"generated":{"line":1,"column":2427}},{"source":"helpers.js","name":"currentOrder","original":{"line":187,"column":17},"generated":{"line":1,"column":2433}},{"source":"helpers.js","name":"stickers","original":{"line":187,"column":34},"generated":{"line":1,"column":2436}},{"source":"helpers.js","name":"find","original":{"line":187,"column":43},"generated":{"line":1,"column":2438}},{"source":"helpers.js","original":{"line":187,"column":48},"generated":{"line":1,"column":2443}},{"source":"helpers.js","name":"item","original":{"line":187,"column":49},"generated":{"line":1,"column":2444}},{"source":"helpers.js","name":"i","original":{"line":187,"column":55},"generated":{"line":1,"column":2446}},{"source":"helpers.js","name":"i","original":{"line":187,"column":61},"generated":{"line":1,"column":2450}},{"source":"helpers.js","name":"index","original":{"line":187,"column":67},"generated":{"line":1,"column":2454}},{"source":"helpers.js","name":"newOrder","original":{"line":191,"column":8},"generated":{"line":1,"column":2457}},{"source":"helpers.js","original":{"line":192,"column":18},"generated":{"line":1,"column":2459}},{"source":"helpers.js","name":"direction","original":{"line":192,"column":4},"generated":{"line":1,"column":2466}},{"source":"helpers.js","name":"extreme","original":{"line":193,"column":8},"generated":{"line":1,"column":2468}},{"source":"helpers.js","name":"max","original":{"line":194,"column":10},"generated":{"line":1,"column":2470}},{"source":"helpers.js","name":"Math","original":{"line":195,"column":10},"generated":{"line":1,"column":2472}},{"source":"helpers.js","name":"min","original":{"line":195,"column":15},"generated":{"line":1,"column":2477}},{"source":"helpers.js","name":"max","original":{"line":195,"column":19},"generated":{"line":1,"column":2481}},{"source":"helpers.js","name":"currentOrder","original":{"line":195,"column":24},"generated":{"line":1,"column":2483}},{"source":"helpers.js","original":{"line":195,"column":39},"generated":{"line":1,"column":2485}},{"source":"helpers.js","name":"extreme","original":{"line":196,"column":8},"generated":{"line":1,"column":2488}},{"source":"helpers.js","original":{"line":186,"column":14},"generated":{"line":1,"column":2490}},{"source":"helpers.js","name":"Math","original":{"line":198,"column":8},"generated":{"line":1,"column":2492}},{"source":"helpers.js","name":"max","original":{"line":198,"column":13},"generated":{"line":1,"column":2497}},{"source":"helpers.js","original":{"line":186,"column":14},"generated":{"line":1,"column":2501}},{"source":"helpers.js","name":"currentOrder","original":{"line":198,"column":22},"generated":{"line":1,"column":2503}},{"source":"helpers.js","original":{"line":198,"column":37},"generated":{"line":1,"column":2505}},{"source":"helpers.js","original":{"line":201,"column":2},"generated":{"line":1,"column":2508}},{"source":"helpers.js","name":"newOrder","original":{"line":201,"column":6},"generated":{"line":1,"column":2515}},{"source":"helpers.js","name":"currentOrder","original":{"line":201,"column":19},"generated":{"line":1,"column":2519}},{"source":"helpers.js","name":"stickers","original":{"line":201,"column":40},"generated":{"line":1,"column":2521}},{"source":"helpers.js","name":"stickers","original":{"line":203,"column":9},"generated":{"line":1,"column":2523}},{"source":"helpers.js","name":"map","original":{"line":203,"column":18},"generated":{"line":1,"column":2525}},{"source":"helpers.js","original":{"line":203,"column":22},"generated":{"line":1,"column":2529}},{"source":"helpers.js","name":"item","original":{"line":203,"column":23},"generated":{"line":1,"column":2530}},{"source":"helpers.js","name":"i","original":{"line":203,"column":29},"generated":{"line":1,"column":2532}},{"source":"helpers.js","name":"i","original":{"line":205,"column":8},"generated":{"line":1,"column":2537}},{"source":"helpers.js","name":"index","original":{"line":205,"column":14},"generated":{"line":1,"column":2541}},{"source":"helpers.js","name":"item","original":{"line":205,"column":21},"generated":{"line":1,"column":2543}},{"source":"helpers.js","name":"order","original":{"line":205,"column":26},"generated":{"line":1,"column":2545}},{"source":"helpers.js","name":"newOrder","original":{"line":205,"column":34},"generated":{"line":1,"column":2551}},{"source":"helpers.js","original":{"line":206,"column":27},"generated":{"line":1,"column":2553}},{"source":"helpers.js","name":"direction","original":{"line":206,"column":13},"generated":{"line":1,"column":2560}},{"source":"helpers.js","name":"extreme","original":{"line":213,"column":9},"generated":{"line":1,"column":2563}},{"source":"helpers.js","name":"item","original":{"line":213,"column":20},"generated":{"line":1,"column":2566}},{"source":"helpers.js","name":"order","original":{"line":213,"column":25},"generated":{"line":1,"column":2568}},{"source":"helpers.js","name":"currentOrder","original":{"line":213,"column":34},"generated":{"line":1,"column":2575}},{"source":"helpers.js","name":"extreme","original":{"line":214,"column":10},"generated":{"line":1,"column":2579}},{"source":"helpers.js","name":"item","original":{"line":214,"column":21},"generated":{"line":1,"column":2582}},{"source":"helpers.js","name":"order","original":{"line":214,"column":26},"generated":{"line":1,"column":2584}},{"source":"helpers.js","name":"newOrder","original":{"line":214,"column":36},"generated":{"line":1,"column":2592}},{"source":"helpers.js","name":"item","original":{"line":216,"column":8},"generated":{"line":1,"column":2597}},{"source":"helpers.js","name":"order","original":{"line":216,"column":13},"generated":{"line":1,"column":2599}},{"source":"helpers.js","original":{"line":216,"column":22},"generated":{"line":1,"column":2606}},{"source":"helpers.js","name":"extreme","original":{"line":219,"column":9},"generated":{"line":1,"column":2610}},{"source":"helpers.js","name":"item","original":{"line":219,"column":20},"generated":{"line":1,"column":2613}},{"source":"helpers.js","name":"order","original":{"line":219,"column":25},"generated":{"line":1,"column":2615}},{"source":"helpers.js","name":"currentOrder","original":{"line":219,"column":34},"generated":{"line":1,"column":2622}},{"source":"helpers.js","name":"extreme","original":{"line":220,"column":10},"generated":{"line":1,"column":2626}},{"source":"helpers.js","name":"item","original":{"line":220,"column":21},"generated":{"line":1,"column":2629}},{"source":"helpers.js","name":"order","original":{"line":220,"column":26},"generated":{"line":1,"column":2631}},{"source":"helpers.js","name":"newOrder","original":{"line":220,"column":36},"generated":{"line":1,"column":2639}},{"source":"helpers.js","name":"item","original":{"line":222,"column":8},"generated":{"line":1,"column":2644}},{"source":"helpers.js","name":"order","original":{"line":222,"column":13},"generated":{"line":1,"column":2646}},{"source":"helpers.js","original":{"line":222,"column":22},"generated":{"line":1,"column":2653}},{"source":"helpers.js","name":"item","original":{"line":225,"column":11},"generated":{"line":1,"column":2656}},{"source":"helpers.js","original":{"line":229,"column":7},"generated":{"line":1,"column":2660}},{"source":"helpers.js","name":"addSticker","original":{"line":229,"column":16},"generated":{"line":1,"column":2669}},{"source":"helpers.js","original":{"line":229,"column":51},"generated":{"line":1,"column":2673}},{"source":"helpers.js","name":"stickers","original":{"line":229,"column":27},"generated":{"line":1,"column":2677}},{"source":"helpers.js","name":"arguments","original":{"line":229,"column":35},"generated":{"line":1,"column":2679}},{"source":"helpers.js","name":"length","original":{"line":229,"column":35},"generated":{"line":1,"column":2689}},{"source":"helpers.js","name":"arguments","original":{"line":229,"column":35},"generated":{"line":1,"column":2696}},{"source":"helpers.js","name":"undefined","original":{"line":229,"column":35},"generated":{"line":1,"column":2704}},{"source":"helpers.js","name":"arguments","original":{"line":229,"column":35},"generated":{"line":1,"column":2708}},{"source":"helpers.js","name":"undefined","original":{"line":229,"column":35},"generated":{"line":1,"column":2718}},{"source":"helpers.js","name":"arguments","original":{"line":229,"column":35},"generated":{"line":1,"column":2721}},{"source":"helpers.js","original":{"line":229,"column":38},"generated":{"line":1,"column":2731}},{"source":"helpers.js","original":{"line":229,"column":38},"generated":{"line":1,"column":2734}},{"source":"helpers.js","name":"sticker","original":{"line":229,"column":42},"generated":{"line":1,"column":2737}},{"source":"helpers.js","name":"arguments","original":{"line":229,"column":49},"generated":{"line":1,"column":2739}},{"source":"helpers.js","name":"length","original":{"line":229,"column":49},"generated":{"line":1,"column":2749}},{"source":"helpers.js","name":"arguments","original":{"line":229,"column":49},"generated":{"line":1,"column":2756}},{"source":"helpers.js","name":"arguments","original":{"line":229,"column":49},"generated":{"line":1,"column":2758}},{"source":"helpers.js","name":"undefined","original":{"line":229,"column":49},"generated":{"line":1,"column":2768}},{"source":"helpers.js","name":"undefined","original":{"line":229,"column":49},"generated":{"line":1,"column":2776}},{"source":"helpers.js","original":{"line":230,"column":2},"generated":{"line":1,"column":2778}},{"source":"helpers.js","name":"sticker","original":{"line":230,"column":7},"generated":{"line":1,"column":2782}},{"source":"helpers.js","original":{"line":230,"column":16},"generated":{"line":1,"column":2784}},{"source":"helpers.js","name":"Error","original":{"line":230,"column":22},"generated":{"line":1,"column":2790}},{"source":"helpers.js","original":{"line":230,"column":28},"generated":{"line":1,"column":2796}},{"source":"helpers.js","original":{"line":235,"column":2},"generated":{"line":1,"column":2821}},{"source":"helpers.js","name":"stickers","original":{"line":235,"column":9},"generated":{"line":1,"column":2828}},{"source":"helpers.js","name":"concat","original":{"line":235,"column":18},"generated":{"line":1,"column":2830}},{"source":"helpers.js","original":{"line":235,"column":25},"generated":{"line":1,"column":2837}},{"source":"helpers.js","original":{"line":236,"column":4},"generated":{"line":1,"column":2838}},{"source":"helpers.js","name":"sticker","original":{"line":236,"column":9},"generated":{"line":1,"column":2842}},{"source":"helpers.js","name":"order","original":{"line":236,"column":18},"generated":{"line":1,"column":2844}},{"source":"helpers.js","name":"stickers","original":{"line":236,"column":25},"generated":{"line":1,"column":2850}},{"source":"helpers.js","name":"length","original":{"line":236,"column":34},"generated":{"line":1,"column":2852}},{"source":"helpers.js","name":"key","original":{"line":236,"column":42},"generated":{"line":1,"column":2859}},{"source":"helpers.js","name":"Date","original":{"line":236,"column":47},"generated":{"line":1,"column":2863}},{"source":"helpers.js","name":"now","original":{"line":236,"column":52},"generated":{"line":1,"column":2868}},{"source":"helpers.js","original":{"line":240,"column":7},"generated":{"line":1,"column":2877}},{"source":"helpers.js","name":"deleteSticker","original":{"line":240,"column":16},"generated":{"line":1,"column":2886}},{"source":"helpers.js","name":"stickers","original":{"line":240,"column":30},"generated":{"line":1,"column":2888}},{"source":"helpers.js","name":"index","original":{"line":240,"column":40},"generated":{"line":1,"column":2890}},{"source":"helpers.js","original":{"line":241,"column":2},"generated":{"line":1,"column":2893}},{"source":"helpers.js","name":"stickers","original":{"line":241,"column":7},"generated":{"line":1,"column":2897}},{"source":"helpers.js","name":"stickers","original":{"line":241,"column":20},"generated":{"line":1,"column":2901}},{"source":"helpers.js","name":"Array","original":{"line":241,"column":40},"generated":{"line":1,"column":2914}},{"source":"helpers.js","name":"stickers","original":{"line":241,"column":49},"generated":{"line":1,"column":2921}},{"source":"helpers.js","name":"length","original":{"line":241,"column":58},"generated":{"line":1,"column":2923}},{"source":"helpers.js","original":{"line":241,"column":68},"generated":{"line":1,"column":2931}},{"source":"helpers.js","original":{"line":242,"column":4},"generated":{"line":1,"column":2933}},{"source":"helpers.js","name":"Error","original":{"line":242,"column":10},"generated":{"line":1,"column":2939}},{"source":"helpers.js","original":{"line":242,"column":16},"generated":{"line":1,"column":2945}},{"source":"helpers.js","original":{"line":244,"column":2},"generated":{"line":1,"column":2974}},{"source":"helpers.js","original":{"line":244,"column":23},"generated":{"line":1,"column":2977}},{"source":"helpers.js","name":"index","original":{"line":244,"column":13},"generated":{"line":1,"column":2994}},{"source":"helpers.js","name":"stickers","original":{"line":244,"column":36},"generated":{"line":1,"column":2998}},{"source":"helpers.js","name":"index","original":{"line":244,"column":45},"generated":{"line":1,"column":3000}},{"source":"helpers.js","original":{"line":245,"column":4},"generated":{"line":1,"column":3003}},{"source":"helpers.js","name":"Error","original":{"line":245,"column":10},"generated":{"line":1,"column":3009}},{"source":"helpers.js","original":{"line":245,"column":16},"generated":{"line":1,"column":3015}},{"source":"helpers.js","original":{"line":247,"column":2},"generated":{"line":1,"column":3069}},{"source":"helpers.js","name":"order","original":{"line":247,"column":8},"generated":{"line":1,"column":3075}},{"source":"helpers.js","name":"stickers","original":{"line":247,"column":16},"generated":{"line":1,"column":3077}},{"source":"helpers.js","name":"index","original":{"line":247,"column":25},"generated":{"line":1,"column":3079}},{"source":"helpers.js","name":"order","original":{"line":247,"column":32},"generated":{"line":1,"column":3082}},{"source":"helpers.js","original":{"line":249,"column":2},"generated":{"line":1,"column":3088}},{"source":"helpers.js","name":"stickers","original":{"line":249,"column":9},"generated":{"line":1,"column":3095}},{"source":"helpers.js","name":"filter","original":{"line":250,"column":5},"generated":{"line":1,"column":3097}},{"source":"helpers.js","original":{"line":250,"column":12},"generated":{"line":1,"column":3104}},{"source":"helpers.js","name":"item","original":{"line":250,"column":13},"generated":{"line":1,"column":3105}},{"source":"helpers.js","name":"i","original":{"line":250,"column":19},"generated":{"line":1,"column":3107}},{"source":"helpers.js","name":"i","original":{"line":250,"column":25},"generated":{"line":1,"column":3111}},{"source":"helpers.js","name":"index","original":{"line":250,"column":31},"generated":{"line":1,"column":3115}},{"source":"helpers.js","name":"map","original":{"line":251,"column":5},"generated":{"line":1,"column":3118}},{"source":"helpers.js","name":"item","original":{"line":251,"column":10},"generated":{"line":1,"column":3122}},{"source":"helpers.js","name":"item","original":{"line":253,"column":10},"generated":{"line":1,"column":3126}},{"source":"helpers.js","name":"order","original":{"line":253,"column":15},"generated":{"line":1,"column":3128}},{"source":"helpers.js","name":"order","original":{"line":253,"column":23},"generated":{"line":1,"column":3134}},{"source":"helpers.js","name":"item","original":{"line":253,"column":30},"generated":{"line":1,"column":3138}},{"source":"helpers.js","name":"order","original":{"line":253,"column":35},"generated":{"line":1,"column":3140}},{"source":"helpers.js","original":{"line":253,"column":44},"generated":{"line":1,"column":3147}},{"source":"helpers.js","name":"item","original":{"line":254,"column":13},"generated":{"line":1,"column":3150}},{"source":"helpers.js","original":{"line":258,"column":7},"generated":{"line":1,"column":3154}},{"source":"helpers.js","name":"patchSticker","original":{"line":258,"column":16},"generated":{"line":1,"column":3163}},{"source":"helpers.js","name":"_ref5","original":{"line":258,"column":28},"generated":{"line":1,"column":3165}},{"source":"helpers.js","original":{"line":258,"column":63},"generated":{"line":1,"column":3168}},{"source":"helpers.js","original":{"line":258,"column":29},"generated":{"line":1,"column":3172}},{"source":"helpers.js","name":"stickers","original":{"line":258,"column":31},"generated":{"line":1,"column":3181}},{"source":"helpers.js","original":{"line":258,"column":39},"generated":{"line":1,"column":3183}},{"source":"helpers.js","name":"prop","original":{"line":258,"column":41},"generated":{"line":1,"column":3188}},{"source":"helpers.js","original":{"line":258,"column":45},"generated":{"line":1,"column":3190}},{"source":"helpers.js","name":"value","original":{"line":258,"column":47},"generated":{"line":1,"column":3196}},{"source":"helpers.js","original":{"line":258,"column":52},"generated":{"line":1,"column":3198}},{"source":"helpers.js","name":"index","original":{"line":258,"column":54},"generated":{"line":1,"column":3204}},{"source":"helpers.js","name":"_ref5","original":{"line":258,"column":61},"generated":{"line":1,"column":3207}},{"source":"helpers.js","original":{"line":259,"column":2},"generated":{"line":1,"column":3209}},{"source":"helpers.js","name":"stickers","original":{"line":259,"column":7},"generated":{"line":1,"column":3213}},{"source":"helpers.js","name":"stickers","original":{"line":259,"column":20},"generated":{"line":1,"column":3217}},{"source":"helpers.js","name":"Array","original":{"line":259,"column":40},"generated":{"line":1,"column":3230}},{"source":"helpers.js","name":"stickers","original":{"line":259,"column":49},"generated":{"line":1,"column":3237}},{"source":"helpers.js","name":"length","original":{"line":259,"column":58},"generated":{"line":1,"column":3239}},{"source":"helpers.js","original":{"line":259,"column":68},"generated":{"line":1,"column":3247}},{"source":"helpers.js","original":{"line":260,"column":4},"generated":{"line":1,"column":3249}},{"source":"helpers.js","name":"Error","original":{"line":260,"column":10},"generated":{"line":1,"column":3255}},{"source":"helpers.js","original":{"line":260,"column":16},"generated":{"line":1,"column":3261}},{"source":"helpers.js","original":{"line":262,"column":2},"generated":{"line":1,"column":3290}},{"source":"helpers.js","original":{"line":262,"column":23},"generated":{"line":1,"column":3293}},{"source":"helpers.js","name":"index","original":{"line":262,"column":13},"generated":{"line":1,"column":3310}},{"source":"helpers.js","name":"stickers","original":{"line":262,"column":36},"generated":{"line":1,"column":3314}},{"source":"helpers.js","name":"index","original":{"line":262,"column":45},"generated":{"line":1,"column":3316}},{"source":"helpers.js","original":{"line":263,"column":4},"generated":{"line":1,"column":3319}},{"source":"helpers.js","name":"Error","original":{"line":263,"column":10},"generated":{"line":1,"column":3325}},{"source":"helpers.js","original":{"line":263,"column":16},"generated":{"line":1,"column":3331}},{"source":"helpers.js","original":{"line":265,"column":2},"generated":{"line":1,"column":3385}},{"source":"helpers.js","name":"PROPS","original":{"line":265,"column":8},"generated":{"line":1,"column":3391}},{"source":"helpers.js","original":{"line":265,"column":16},"generated":{"line":1,"column":3393}},{"source":"helpers.js","original":{"line":265,"column":17},"generated":{"line":1,"column":3394}},{"source":"helpers.js","original":{"line":265,"column":29},"generated":{"line":1,"column":3405}},{"source":"helpers.js","original":{"line":265,"column":38},"generated":{"line":1,"column":3413}},{"source":"helpers.js","original":{"line":267,"column":2},"generated":{"line":1,"column":3425}},{"source":"helpers.js","name":"PROPS","original":{"line":267,"column":7},"generated":{"line":1,"column":3429}},{"source":"helpers.js","name":"includes","original":{"line":267,"column":13},"generated":{"line":1,"column":3431}},{"source":"helpers.js","name":"prop","original":{"line":267,"column":22},"generated":{"line":1,"column":3440}},{"source":"helpers.js","original":{"line":268,"column":4},"generated":{"line":1,"column":3443}},{"source":"helpers.js","name":"Error","original":{"line":268,"column":10},"generated":{"line":1,"column":3449}},{"source":"helpers.js","name":"PROPS","original":{"line":268,"column":58},"generated":{"line":1,"column":3497}},{"source":"helpers.js","name":"join","original":{"line":268,"column":64},"generated":{"line":1,"column":3499}},{"source":"helpers.js","original":{"line":268,"column":69},"generated":{"line":1,"column":3504}},{"source":"helpers.js","original":{"line":270,"column":2},"generated":{"line":1,"column":3512}},{"source":"helpers.js","name":"stickers","original":{"line":270,"column":9},"generated":{"line":1,"column":3519}},{"source":"helpers.js","name":"map","original":{"line":270,"column":18},"generated":{"line":1,"column":3521}},{"source":"helpers.js","original":{"line":270,"column":22},"generated":{"line":1,"column":3525}},{"source":"helpers.js","name":"item","original":{"line":270,"column":23},"generated":{"line":1,"column":3526}},{"source":"helpers.js","name":"i","original":{"line":270,"column":29},"generated":{"line":1,"column":3528}},{"source":"helpers.js","name":"i","original":{"line":271,"column":8},"generated":{"line":1,"column":3533}},{"source":"helpers.js","name":"index","original":{"line":271,"column":14},"generated":{"line":1,"column":3537}},{"source":"helpers.js","name":"item","original":{"line":271,"column":21},"generated":{"line":1,"column":3541}},{"source":"helpers.js","name":"prop","original":{"line":271,"column":26},"generated":{"line":1,"column":3543}},{"source":"helpers.js","name":"value","original":{"line":271,"column":34},"generated":{"line":1,"column":3546}},{"source":"helpers.js","name":"item","original":{"line":272,"column":11},"generated":{"line":1,"column":3549}}],"sources":{"helpers.js":"import { Vec2 } from \"wtc-math\";\nimport { renderSticker } from \"./renderSticker\";\n\nexport function classnames(namesArray) {\n  return namesArray\n    .filter((v) => v != \"\")\n    .join(\" \")\n    .trim();\n}\n\n// Helpers function to create images from paths\nexport function loadUrlAsImage(item) {\n  return new Promise(function (resolve, reject) {\n    const img = new Image();\n    img.crossOrigin = \"anonymous\";\n    img.onload = () => resolve(img);\n    img.onerror = (err) => reject(err);\n    img.src = item;\n  });\n}\n\nexport async function coverCanvas({\n  ctx,\n  img,\n  width,\n  height,\n  offsetX = 0.5,\n  offsetY = 0.5,\n}) {\n  if (!ctx || !ctx instanceof CanvasRenderingContext2D)\n    throw Error(\"`ctx` is required and must be a valid canvas context\");\n  if (!img) throw Error(\"`img` is required\");\n\n  const loadedImage = typeof img === \"string\" ? await loadUrlAsImage(img) : img;\n\n  const imageWidth =\n    loadedImage.width || loadedImage.naturalWidth || loadedImage.offsetWidth;\n  const imageHeight =\n    loadedImage.height || loadedImage.naturalHeight || loadedImage.offsetHeight;\n\n  const imageRatio = imageWidth / imageHeight;\n  const outputRatio = width / height;\n\n  let outputWidth = width;\n  let outputHeight = height;\n\n  if (imageRatio > outputRatio) outputWidth = outputHeight * imageRatio;\n  else if (imageRatio < outputRatio)\n    outputHeight = outputWidth * (imageHeight / imageWidth);\n\n  // first we our image/source onto a canvas resized\n  // to the output size we want and with the correct ratio\n  const resizedCanvas = document.createElement(\"canvas\");\n  const resizedCanvasCtx = resizedCanvas.getContext(\"2d\");\n\n  resizedCanvas.width = outputWidth;\n  resizedCanvas.height = outputHeight;\n  resizedCanvasCtx.drawImage(loadedImage, 0, 0, outputWidth, outputHeight);\n\n  // now we draw the scaled canvas onto the original context passed\n  ctx.drawImage(\n    resizedCanvas,\n    (outputWidth - width) * offsetX,\n    (outputHeight - height) * offsetY,\n    width,\n    height,\n    0,\n    0,\n    width,\n    height\n  );\n}\n\nexport async function exportStickerbook({\n  canvas,\n  background,\n  frame,\n  stickers = [],\n  foreground,\n  outputWidth = 500,\n  outputHeight = 500,\n  format = \"image\",\n}) {\n  const TYPES = [\"image\", \"canvas\", \"blob\"];\n\n  if (!outputWidth && !outputHeight)\n    throw Error(\"'outputWidth' and 'outputHeight' needs to be bigger than 0\");\n\n  if (!TYPES.includes(format))\n    throw Error(\n      `Invalid 'format'. 'format' must be one of: ${TYPES.join(\",\")}`\n    );\n\n  // output canvas\n  const outputCanvas = canvas || document.createElement(\"canvas\");\n  const outputCtx = outputCanvas.getContext(\"2d\");\n\n  outputCanvas.width = outputWidth;\n  outputCanvas.height = outputHeight;\n\n  // draw background\n  if (background && background.image)\n    await coverCanvas({\n      ctx: outputCtx,\n      img: background.image,\n      width: outputWidth,\n      height: outputHeight,\n    });\n\n  // draw background\n  if (frame && frame.image)\n    await coverCanvas({\n      ctx: outputCtx,\n      img: frame.image,\n      width: outputWidth,\n      height: outputHeight,\n    });\n\n  if (stickers && stickers.length > 0) {\n    // sort by order\n    const sortedStickers = [...stickers].sort((a, b) => a.order - b.order);\n\n    // load all images to Image elements\n    const loadedStickers = await Promise.all(\n      sortedStickers.map(({ image }) => loadUrlAsImage(image))\n    );\n\n    console.log('------------')\n    window.loadedStickers = loadedStickers;\n\n    for (let i = 0; i < loadedStickers.length; i++) {\n      const sticker = sortedStickers[i];\n\n      // Render the sticker as a stamp\n      const stamp = renderSticker(sticker, [outputWidth, outputHeight]);\n\n      // final draw\n      outputCtx.drawImage(stamp, 0, 0);\n    }\n  }\n\n  // draw foreground\n  if (foreground && foreground.image)\n    await coverCanvas({\n      ctx: outputCtx,\n      img: foreground.image,\n      width: outputWidth,\n      height: outputHeight,\n    });\n\n  // download\n  if (format === \"canvas\") return outputCanvas;\n\n  const imageUrl = await new Promise((resolve, reject) => {\n    try {\n      outputCanvas.toBlob((blob) => {\n        if (format === \"blob\") resolve(blob);\n        else resolve(window.URL.createObjectURL(blob));\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n\n  return imageUrl;\n}\n\nexport function reorderSticker({\n  index,\n  direction = \"up\",\n  extreme = false,\n  stickers = [],\n}) {\n  if (!stickers || stickers.length <= 0)\n    throw Error(\"`stickers` array is empty\");\n  if (!direction || ![\"up\", \"down\"].includes(direction))\n    throw Error(\"`direction` needs to be either `up` or `down`\");\n  if (typeof index !== \"number\" || index < 0 || index >= stickers.length)\n    throw Error(\"`index` needs to be a valid `stickers` array index\");\n\n  // First, we can't change the array itself otherwise\n  // it will cause a re-render and the item will loose focus.\n  // So I made a prop to stickers called `order` and that represents\n  // the order of the sticker on the DOM as a z-index CSS prop.\n  const max = stickers.length - 1; // the max is the number of stickers on the array\n  const min = 0; // can't go lower than 0 with z-index\n  const { order: currentOrder } = stickers.find((item, i) => i === index); // get item to change and its current order\n\n  // if we are going to the extreme, we max it up otherwise\n  // we just make sure that we are not going over our max/min\n  const newOrder =\n    direction === \"up\"\n      ? extreme\n        ? max\n        : Math.min(max, currentOrder + 1)\n      : extreme\n      ? min\n      : Math.max(min, currentOrder - 1);\n\n  // if the order didn't change, than we just return\n  if (newOrder === currentOrder) return stickers;\n\n  return stickers.map((item, i) => {\n    // if it's our item we update its order\n    if (i === index) item.order = newOrder;\n    else if (direction === \"up\") {\n      // if we are going to the extreme edges, we gotta\n      // move all stickers before/after the new order\n      // or\n      // if we are not going to the extreme edges\n      // we check if the item is our new order and we move it\n      if (\n        (extreme && item.order >= currentOrder) ||\n        (!extreme && item.order === newOrder)\n      )\n        item.order -= 1;\n    } else {\n      if (\n        (extreme && item.order <= currentOrder) ||\n        (!extreme && item.order === newOrder)\n      )\n        item.order += 1;\n    }\n\n    return item;\n  });\n}\n\nexport function addSticker(stickers = [], sticker) {\n  if (!sticker) throw Error(\"No `sticker` provided\");\n\n  // we add a unique key based on the time because otherwise the\n  // sticker will loose its state when re-rendering it, even though\n  // we save the state globally, this is a good failsafe\n  return stickers.concat([\n    { ...sticker, order: stickers.length, key: Date.now() },\n  ]);\n}\n\nexport function deleteSticker(stickers, index) {\n  if (!stickers || !stickers instanceof Array || stickers.length <= 0)\n    throw Error(\"`stickers` array is empty\");\n\n  if (typeof index !== \"number\" || !stickers[index])\n    throw Error(\"`index` needs to be a valid `stickers` array index\");\n\n  const order = stickers[index].order;\n\n  return stickers\n    .filter((item, i) => i !== index)\n    .map((item) => {\n      // fix the order\n      if (item.order > order) item.order -= 1;\n      return item;\n    });\n}\n\nexport function patchSticker({ stickers, prop, value, index }) {\n  if (!stickers || !stickers instanceof Array || stickers.length <= 0)\n    throw Error(\"`stickers` array is empty\");\n\n  if (typeof index !== \"number\" || !stickers[index])\n    throw Error(\"`index` needs to be a valid `stickers` array index\");\n\n  const PROPS = [\"position\", \"scale\", \"rotation\"];\n\n  if (!PROPS.includes(prop))\n    throw Error(`Invalid 'prop'. 'prop' must be one of: ${PROPS.join(\",\")}`);\n\n  return stickers.map((item, i) => {\n    if (i === index) item[prop] = value;\n    return item;\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"6ec1cfc0494de403549c603bdc20fcc2","cacheData":{"env":{}}}